<!doctype html>
<html lang="en" data-bs-theme="auto" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head::head}"></head>
<body>


<main>
    <div class="container py-4">
        <header th:replace="~{fragments/header::header}"></header>

        <div class="p-5 mb-4 bg-body-tertiary rounded-3">
            <div class="container-fluid py-5">
                <h1 class="display-5 fw-bold" th:text="${quotes.get(0).getQuoteNumber()}"></h1>
            </div>

            <table>
                <th:block th:each="quote: ${quotes}">
                    <tr>
                        <th>Quote Id</th>
                        <td th:text="${quote.getQuoteID()}"></td>
                    </tr>
                    <tr>
                        <th>Quote Number</th>
                        <td th:text="${quote.getQuoteNumber()}"></td>
                    </tr>
                    <tr>
                        <th>Date</th>
                        <td th:text="${quote.getDateString()}"></td>
                    </tr>

                    <tr>
                        <th>Expiry Date</th>
                        <td th:text="${quote.getExpiryDateString()}"></td>
                    </tr>
                    <tr>
                        <th>Reference</th>
                        <td th:text="${quote.getReference()}"></td>
                    </tr>
                    <tr>
                        <th>Contact Name</th>
                        <td th:text="${quote.getContact().getName()}"></td>
                    </tr>

                    <tr>
                        <th>Contact Email</th>
                        <td th:text="${quote.getContact().getEmailAddress()}"></td>
                    </tr>

                    <tr>
                        <th>Contact ID</th>
                        <td th:text="${quote.getContact().getContactID()}"></td>
                    </tr>
                    <tr>
                        <th>Account Number</th>
                        <td th:text="${quote.getContact().getAccountNumber()}"></td>
                    </tr>


                    <table class="table table-striped table-primary table-bordered">
                        <tr>
                            <th>Line Item Id</th>
                            <th>Item Code</th>
                            <th>Description</th>
                            <th>Quantity</th>
                            <th>Unit Amount</th>
                            <th>Tax Amount</th>
                            <th>Line Amount</th>
                        </tr>

                        <th:block th:each="lineItem: ${quote.getLineItems()}">

                            <tr>
                                <td th:text="${lineItem.getLineItemID()}"></td>
                                <td th:text="${lineItem.getItemCode()}"></td>
                                <td th:text="${lineItem.getDescription()}"></td>
                                <td th:text="${lineItem.getQuantity()}"></td>
                                <td th:text="${lineItem.getUnitAmount()}"></td>
                                <td th:text="${lineItem.getTaxAmount()}"></td>
                                <td th:text="${lineItem.getLineAmount()}"></td>
                            </tr>
                        </th:block>
                        <tr>
                            <th colspan="3">Sub Total</th>
                            <td colspan="4" th:text="${quote.getSubTotal()}"></td>
                        </tr>
                        <tr>
                            <th colspan="3">Total Tax</th>
                            <td colspan="4" th:text="${quote.getTotalTax()}"></td>
                        </tr>

                        <tr>
                            <th colspan="3">Total</th>
                            <td colspan="4" th:text="${quote.getTotal()}"></td>
                        </tr>

                        <tr>
                            <th colspan="3">Total Discount</th>
                            <td colspan="4" th:text="${quote.getTotalDiscount()}"></td>
                        </tr>

                    </table>
                </th:block>

            </table>


        </div>


        <footer th:replace="~{fragments/footer::footer}"></footer>
    </div>
</main>


</body>
</html>
